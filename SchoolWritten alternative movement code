//Muscle code stuff
//This is an alternative solution in case the one I'm doing right now doesn't work

//This is code that will be in the muscle class

if (MovingIn)
{
    //The muscles now needs to apply a force to a node
    ends[0]->ApplyForce(strength,ends[1]);
    ends[1]->ApplyForce(strength,ends[0]);
    
}

else if(MovingOut)
{
    ends[0]->ApplyForce(-strength,ends[1]);
    ends[1]->ApplyForce(-strength,ends[0]);
}
//Don't know if this next piece of code is nesecary to put here
float MuscleSize()
{
    return ends[0]->Location.DistanceTo(ends[1]->Location);
}
//^This goes in the function area not the event tick
//This next thing does go in the event tick though
if(MuscleSize> StartingSize*2 || MuscleSize < StartingSize/2)
{
    MovingIn = !MovingIn;
    MovingOut = !MovingOut;
    MovementProgress  = 5;
}



//^ This should be in the event tick of the muscle and should be called every tick by the creature.

//This code will be for the node class

void ApplyForce(strength,OtherNode)
{
    Position RelativePosition = Position::Normalise(OtherNode->Location);
    LatentVelocity += RelativePosition * strength / weight; //Needs to be done from within the node class.
}

//This code should then be placed in the event tick part of the node class
//The event tick of the nodes must be called after the event tick of the muscles

LatentVelocity += MovementResistance(Area,LatentVelocity)*DeltaTime;
//^ This reduces the amount of movement that is happening
Location += LatentVelocity * DeltaTime;






